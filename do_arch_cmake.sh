#!/bin/bash
export PYTHON_INCLUDE_DIR="$(python -c "from sysconfig import get_path; print(get_path('include'))")"
./do_cmake.sh \
	-DCMAKE_INSTALL_PREFIX=/usr \
	-DCMAKE_INSTALL_SYSCONFDIR=/etc \
    	-DCEPH_SYSTEMD_ENV_DIR=/etc/default \
    	-DCMAKE_BUILD_TYPE=RelWithDebInf \
    	-DCMAKE_INSTALL_LIBDIR=/usr/lib \
    	-DCMAKE_INSTALL_LIBEXECDIR=/usr/lib \
    	-DCMAKE_INSTALL_SBINDIR=/usr/bin \
    	-DCMAKE_INSTALL_SYSTEMD_SERVICEDIR=/usr/lib/systemd/system \
    	-DENABLE_GIT_VERSION=ON \
    	-DENABLE_SHARED=ON \
    	-DMGR_PYTHON_VERSION=3 \
    	-DPYTHON_INCLUDE_DIR="${PYTHON_INCLUDE_DIR:?}" \
    	-DWITH_BABELTRACE=OFF \
    	-DWITH_BOOST_CONTEXT=ON \
    	-DWITH_CEPHFS=ON \
    	-DWITH_CEPHFS_JAVA=ON \
    	-DWITH_CEPHFS_SHELL=ON \
    	-DWITH_DPDK=OFF \
    	-DWITH_FUSE=ON \
    	-DWITH_LTTNG=OFF \
    	-DWITH_LZ4=ON \
    	-DWITH_MGR=ON \
    	-DWITH_MGR_DASHBOARD_FRONTEND=ON \
    	-DWITH_NSS=ON \
    	-DWITH_NUMA=ON \
    	-DWITH_OCF=OFF \
    	-DWITH_OPENLDAP=OFF \
    	-DWITH_PYTHON2=OFF \
    	-DWITH_PYTHON3=ON \
    	-DWITH_RADOSGW=ON \
    	-DWITH_RADOSGW_AMQP_ENDPOINT=OFF \
    	-DWITH_RADOSGW_BEAST_FRONTEND=ON \
    	-DWITH_RADOSGW_BEAST_OPENSSL=ON \
    	-DWITH_RADOSGW_FCGI_FRONTEND=OFF \
    	-DWITH_RDMA=OFF \
    	-DWITH_SPDK=OFF \
    	-DWITH_SSL=ON \
    	-DWITH_SYSTEMD=ON \
    	-DWITH_SYSTEM_BOOST=OFF \
    	-DWITH_SYSTEM_GTEST=OFF \
    	-DWITH_SYSTEM_NPM=OFF \
    	-DWITH_TBB=OFF \
    	-DWITH_XFS=ON \
